<!DOCTYPE html>
<html lang="hi">
<head>
    <meta charset="UTF-8">
    <title>SECURE ACCESS - KAUSHAL JI</title>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-database.js"></script>
    <style>
        :root { --neon: #00ffcc; --bg: #050505; --red: #ff3333; }
        body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; background: var(--bg); color: #fff; margin: 0; padding: 20px; }
        
        /* ‡§≤‡•â‡§ï ‡§∏‡•ç‡§ï‡•ç‡§∞‡•Ä‡§® ‡§∏‡•ç‡§ü‡§æ‡§á‡§≤ */
        #lock-screen { position: fixed; inset: 0; background: #000; display: flex; flex-direction: column; align-items: center; justify-content: center; z-index: 10000; border: 5px solid #111; }
        .lock-card { background: #111; padding: 40px; border-radius: 20px; border: 1px solid var(--neon); text-align: center; box-shadow: 0 0 30px rgba(0,255,204,0.1); }
        
        /* ‡§Æ‡•á‡§® ‡§á‡§Ç‡§ü‡§∞‡§´‡§º‡•á‡§∏ */
        .header { display: flex; justify-content: space-between; align-items: center; border-bottom: 2px solid #222; padding-bottom: 15px; margin-bottom: 20px; }
        .search-box { width: 100%; max-width: 400px; position: relative; }
        input[type="text"], input[type="password"] { width: 100%; padding: 12px; background: #151515; border: 1px solid #333; color: #fff; border-radius: 8px; outline: none; transition: 0.3s; box-sizing: border-box; }
        input:focus { border-color: var(--neon); box-shadow: 0 0 10px rgba(0,255,204,0.3); }

        table { width: 100%; border-collapse: collapse; background: #111; border-radius: 12px; overflow: hidden; }
        th { background: #1a1a1a; color: var(--neon); padding: 15px; text-align: left; font-size: 14px; text-transform: uppercase; }
        td { padding: 12px 15px; border-bottom: 1px solid #222; font-size: 14px; }
        tr:hover { background: #161616; }

        .user-pic { width: 35px; height: 35px; border-radius: 50%; object-fit: cover; border: 1px solid #444; }
        .pass-text { color: #ffcc00; font-family: monospace; font-weight: bold; }
        .btn-del { background: rgba(255, 51, 51, 0.1); color: var(--red); border: 1px solid var(--red); padding: 6px 12px; border-radius: 6px; cursor: pointer; transition: 0.3s; }
        .btn-del:hover { background: var(--red); color: #fff; }
        
        .badge { background: var(--neon); color: #000; padding: 2px 8px; border-radius: 10px; font-size: 12px; font-weight: bold; }
    </style>
</head>
<body>

<div id="lock-screen">
    <div class="lock-card">
        <h1 style="color:var(--neon); margin:0 0 10px;">üîê ACCESS DENIED</h1>
        <p style="color:#888;">‡§ï‡•å‡§∂‡§≤ ‡§ú‡•Ä, ‡§ï‡•É‡§™‡§Ø‡§æ ‡§Ö‡§™‡§®‡§æ ‡§Æ‡§æ‡§∏‡•ç‡§ü‡§∞ ‡§ï‡•ã‡§° ‡§¶‡§∞‡•ç‡§ú ‡§ï‡§∞‡•á‡§Ç</p>
        <input type="password" id="m-key" placeholder="Master Password..." onkeypress="if(event.key==='Enter') verify()">
        <br><br>
        <button onclick="verify()" style="background:var(--neon); border:none; padding:12px 30px; border-radius:8px; font-weight:bold; cursor:pointer;">UNLOCK DB</button>
    </div>
</div>

<div id="admin-panel" style="display:none;">
    <div class="header">
        <div>
            <h2 style="margin:0; color:var(--neon);">USER DATABASE <span id="count" class="badge">0</span></h2>
            <small style="color:#666;">Kaushal Ji's Private Control Panel</small>
        </div>
        <div class="search-box">
            <input type="text" id="search" placeholder="üîç ‡§®‡§æ‡§Æ ‡§Ø‡§æ ‡§´‡•ã‡§® ‡§®‡§Ç‡§¨‡§∞ ‡§∏‡•á ‡§ñ‡•ã‡§ú‡•á‡§Ç..." onkeyup="filterUsers()">
        </div>
        <button onclick="location.reload()" style="background:#222; color:#fff; border:1px solid #444; padding:10px 15px; border-radius:8px; cursor:pointer;">LOGOUT</button>
    </div>

    <table>
        <thead>
            <tr>
                <th>Profile</th>
                <th>Name</th>
                <th>Phone (UID)</th>
                <th>Password</th>
                <th>Action</th>
            </tr>
        </thead>
        <tbody id="user-rows">
            </tbody>
    </table>
</div>

<script>
    // ‡§Ü‡§™‡§ï‡§æ ‡§∏‡•Ä‡§ï‡•ç‡§∞‡•á‡§ü ‡§Æ‡§æ‡§∏‡•ç‡§ü‡§∞ ‡§™‡§æ‡§∏‡§µ‡§∞‡•ç‡§°
    const SECRET = "KAUSHAL@9129"; 

    // Firebase ‡§∏‡•á‡§ü‡§Ö‡§™
    const firebaseConfig = {
        apiKey: "AIzaSyDQ0Y8M9OGSInOlUltuysgmKOYGKX8dQvg",
        databaseURL: "https://calculator-by-kaushalji-default-rtdb.firebaseio.com",
        projectId: "calculator-by-kaushalji",
    };
    firebase.initializeApp(firebaseConfig);
    const db = firebase.database();

    function verify() {
        const pass = document.getElementById('m-key').value;
        if(pass === SECRET) {
            document.getElementById('lock-screen').style.display = 'none';
            document.getElementById('admin-panel').style.display = 'block';
            fetchData();
        } else {
            alert("‡§Ö‡§®‡§ß‡§ø‡§ï‡•É‡§§ ‡§™‡§π‡•Å‡§Ç‡§ö! ‡§∏‡§æ‡§µ‡§ß‡§æ‡§® ‡§∞‡§π‡•á‡§Ç‡•§");
        }
    }

    let allUsers = [];

    function fetchData() {
        db.ref('users').on('value', (snap) => {
            allUsers = [];
            snap.forEach(child => {
                let u = child.val();
                u.phone = child.key;
                allUsers.push(u);
            });
            renderTable(allUsers);
        });
    }

    function renderTable(data) {
        const container = document.getElementById('user-rows');
        const countBadge = document.getElementById('count');
        container.innerHTML = "";
        countBadge.innerText = data.length;

        data.forEach(user => {
            const tr = document.createElement('tr');
            tr.innerHTML = `
                <td><img src="${user.profilePic || 'https://via.placeholder.com/35'}" class="user-pic"></td>
                <td><b>${user.name}</b></td>
                <td>${user.phone}</td>
                <td class="pass-text">${user.password}</td>
                <td><button class="btn-del" onclick="deleteUser('${user.phone}')">PERMANENT DELETE</button></td>
            `;
            container.appendChild(tr);
        });
    }

    // ‡§∏‡§∞‡•ç‡§ö ‡§´‡§º‡§Ç‡§ï‡•ç‡§∂‡§®
    function filterUsers() {
        const term = document.getElementById('search').value.toLowerCase();
        const filtered = allUsers.filter(u => 
            u.name.toLowerCase().includes(term) || 
            u.phone.includes(term)
        );
        renderTable(filtered);
    }

    // ‡§°‡§ø‡§≤‡•Ä‡§ü ‡§´‡§º‡§Ç‡§ï‡•ç‡§∂‡§® (Profile + Playlist ‡§¶‡•ã‡§®‡•ã‡§Ç ‡§ñ‡§§‡•ç‡§Æ)
    async function deleteUser(id) {
        if(confirm(`‡§ö‡•á‡§§‡§æ‡§µ‡§®‡•Ä: ‡§ï‡•ç‡§Ø‡§æ ‡§Ü‡§™ ‡§Ø‡•Ç‡§ú‡§∞ ${id} ‡§ï‡§æ ‡§™‡•Ç‡§∞‡§æ ‡§°‡•á‡§ü‡§æ ‡§°‡§ø‡§≤‡•Ä‡§ü ‡§ï‡§∞‡§®‡§æ ‡§ö‡§æ‡§π‡§§‡•á ‡§π‡•à‡§Ç?`)) {
            await db.ref('users/' + id).remove();
            await db.ref('playlists/' + id).remove();
            alert("‡§°‡•á‡§ü‡§æ ‡§∏‡§´‡§≤‡§§‡§æ‡§™‡•Ç‡§∞‡•ç‡§µ‡§ï ‡§π‡§ü‡§æ ‡§¶‡§ø‡§Ø‡§æ ‡§ó‡§Ø‡§æ ‡§π‡•à‡•§");
        }
    }
</script>
<script>
    // 1. ‡§∞‡§æ‡§á‡§ü ‡§ï‡•ç‡§≤‡§ø‡§ï ‡§™‡•Ç‡§∞‡•Ä ‡§§‡§∞‡§π ‡§¨‡§Ç‡§¶ (Disable Right Click)
    document.addEventListener('contextmenu', e => e.preventDefault());

    // 2. ‡§∏‡§≠‡•Ä ‡§ñ‡§§‡§∞‡§®‡§æ‡§ï ‡§ï‡•Ä‡§¨‡•ã‡§∞‡•ç‡§° ‡§∂‡•â‡§∞‡•ç‡§ü‡§ï‡§ü‡•ç‡§∏ ‡§ï‡•ã ‡§¨‡•ç‡§≤‡•â‡§ï ‡§ï‡§∞‡§®‡§æ
    document.onkeydown = function(e) {
        // F12, Ctrl+Shift+I, Ctrl+Shift+J, Ctrl+Shift+C, Ctrl+U (View Source)
        if (
            e.keyCode === 123 || 
            (e.ctrlKey && e.shiftKey && (e.keyCode === 73 || e.keyCode === 74 || e.keyCode === 67)) || 
            (e.ctrlKey && e.keyCode === 85)
        ) {
            return false;
        }
    };

    // 3. ‡§∏‡§¨‡§∏‡•á ‡§™‡§æ‡§µ‡§∞‡§´‡•Å‡§≤: ‡§á‡§®‡•ç‡§´‡§ø‡§®‡§ø‡§ü ‡§°‡§ø‡§¨‡§ó‡§∞ (Infinite Debugger)
    // ‡§Ø‡§π ‡§π‡•à‡§ï‡§∞ ‡§ï‡•á ‡§¨‡•ç‡§∞‡§æ‡§â‡§ú‡§º‡§∞ ‡§ï‡•ã 'Freeze' ‡§ï‡§∞ ‡§¶‡•á‡§ó‡§æ ‡§Ö‡§ó‡§∞ ‡§â‡§∏‡§®‡•á ‡§ï‡§Ç‡§∏‡•ã‡§≤ ‡§ñ‡•ã‡§≤‡§æ
    (function() {
        var protect = function() {
            try {
                (function recursive(i) {
                    if (("" + i / i).length !== 1 || i % 20 === 0) {
                        (function() {}).constructor("debugger")();
                    } else {
                        (function() {}).constructor("debugger")();
                    }
                    recursive(++i);
                })(0);
            } catch (e) {
                setTimeout(protect, 100);
            }
        };
        protect();
    })();

    // 4. ‡§ï‡§Ç‡§∏‡•ã‡§≤ ‡§ï‡•ã ‡§¨‡§æ‡§∞-‡§¨‡§æ‡§∞ ‡§∏‡§æ‡§´ ‡§ï‡§∞‡§®‡§æ (Console Anti-Log)
    setInterval(() => {
        console.clear();
        console.log("%c‡§∞‡•Å‡§ï‡•ã!", "color: red; font-size: 50px; font-weight: bold;");
        console.log("%c‡§ï‡•å‡§∂‡§≤ ‡§ú‡•Ä ‡§ï‡•Ä ‡§Ö‡§®‡•Å‡§Æ‡§§‡§ø ‡§ï‡•á ‡§¨‡§ø‡§®‡§æ ‡§Ø‡§π‡§æ‡§Å ‡§è‡§ï‡•ç‡§∏‡•á‡§∏ ‡§Æ‡§®‡§æ ‡§π‡•à‡•§", "color: white; font-size: 20px;");
    }, 200);

    // 5. ‡§Ö‡§ó‡§∞ ‡§µ‡§ø‡§Ç‡§°‡•ã ‡§ï‡§æ ‡§∏‡§æ‡§á‡§ú ‡§¨‡§¶‡§≤‡§æ ‡§ú‡§æ‡§è (Inspect ‡§ñ‡•ã‡§≤‡§®‡•á ‡§™‡§∞ ‡§Ö‡§ï‡•ç‡§∏‡§∞ ‡§∏‡§æ‡§á‡§ú ‡§¨‡§¶‡§≤‡§§‡§æ ‡§π‡•à)
    window.onresize = function() {
        if ((window.outerHeight - window.innerHeight) > 200 || (window.outerWidth - window.innerWidth) > 200) {
            document.body.innerHTML = "<h1 style='color:red; text-align:center; margin-top:20%'>HACKING DETECTED!<br>‡§è‡§ï‡•ç‡§∏‡•á‡§∏ ‡§¨‡•ç‡§≤‡•â‡§ï ‡§ï‡§∞ ‡§¶‡§ø‡§Ø‡§æ ‡§ó‡§Ø‡§æ ‡§π‡•à‡•§</h1>";
        }
    };
</script>

</body>
</html>
